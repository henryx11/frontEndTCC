<div class="container">
  <h1>Criar Cartão</h1>
  <form #frm="ngForm" class="create-card" (ngSubmit)="criarCartao(frm)">
    <div class="form-group">
      <label for="descricao">Descrição</label>
      <input
        type="text"
        id="descricao"
        name="descricao"
        [(ngModel)]="cartaoData.descricao"
        placeholder="Nome do cartão"
        required
      />
    </div>

    <div class="form-group">
      <label for="dataVencimento">Data Vencimento Cartão</label>
      <input
        type="date"
        id="dataVencimento"
        name="dataVencimento"
        [(ngModel)]="cartaoData.dataVencimento"
        (change)="onDataChange()"
        required
      />
    </div>

    <div class="form-group">
      <label for="dataFechamento">Data Fechamento</label>
      <input
        type="date"
        id="dataFechamento"
        name="dataFechamento"
        [(ngModel)]="cartaoData.dataFechamento"
        (change)="onDataChange()"
        required
      />
      <small class="error-message" *ngIf="mostrarErroData">
        ⚠️ A data de fechamento deve ser anterior à data de vencimento
      </small>
    </div>

    <div class="form-group">
      <label for="bandeira">Bandeira</label>
      <select
        id="bandeira"
        name="bandeira"
        [(ngModel)]="cartaoData.bandeira"
        required
      >
        <option value="">Selecione uma bandeira</option>
        <option value="visa">Visa</option>
        <option value="mastercard">Mastercard</option>
        <option value="elo">Elo</option>
        <option value="american">American Express</option>
        <option value="hipercard">Hipercard</option>
      </select>
    </div>

    <div class="form-group">
      <label for="limite">Limite</label>
      <input
        type="number"
        id="limite"
        name="limite"
        [(ngModel)]="cartaoData.limite"
        placeholder="0,00"
        step="0.01"
        min="0"
        required
      />
    </div>

    <div class="form-actions">
      <button type="submit" class="btn-create" [disabled]="!frm.form.valid || !validarDatas()">
        Criar Cartão
      </button>
      <button type="button" class="btn-edit" (click)="editarCartao()">
        Editar Cartão
      </button>
    </div>

    <div class="form-actions-secondary">
      <button type="button" class="btn-cancel" (click)="cancelar()">
        Cancelar
      </button>
    </div>
  </form>
</div>
