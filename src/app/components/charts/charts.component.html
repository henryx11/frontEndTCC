<div class="charts-container">
  <!-- Header -->
  <div class="charts-header">
    <h2>游늵 An치lise Financeira</h2>
    <button class="btn-refresh" (click)="atualizarGraficos()" [disabled]="loading">
      <span class="icon">游댃</span>
      Atualizar
    </button>
  </div>

  <!-- Estado de carregamento inicial -->
  <div class="loading-state" *ngIf="loading && semDados">
    <div class="spinner"></div>
    <p>Carregando gr치ficos...</p>
  </div>

  <!-- Estado sem dados -->
  <div class="empty-state" *ngIf="!loading && semDados">
    <div class="empty-icon">游늵</div>
    <h3>Nenhum dado dispon칤vel</h3>
    <p>Adicione transa칞칫es para visualizar os gr치ficos</p>
  </div>

  <!-- Grid de Gr치ficos - SEMPRE RENDERIZADO -->
  <div class="charts-grid">

    <!-- Gr치fico de Linha - Evolu칞칚o Temporal -->
    <div class="chart-card full-width">
      <div class="chart-header">
        <h3>游늳 Receitas vs Despesas (칔ltimos 6 meses)</h3>
      </div>
      <div class="chart-content">
        <!-- Loading espec칤fico -->
        <div class="chart-loading" *ngIf="loadingLine">
          <div class="spinner-small"></div>
          <p>Carregando...</p>
        </div>
        <!-- Canvas sempre presente, apenas oculto -->
        <div class="chart-wrapper" [style.display]="loadingLine ? 'none' : 'block'">
          <canvas #lineChart></canvas>
        </div>
      </div>
    </div>

    <!-- Gr치fico de Pizza - Despesas por Categoria -->
    <div class="chart-card">
      <div class="chart-header">
        <h3>游꼣 Despesas por Categoria</h3>
      </div>
      <div class="chart-content">
        <!-- Loading espec칤fico -->
        <div class="chart-loading" *ngIf="loadingPie">
          <div class="spinner-small"></div>
          <p>Carregando...</p>
        </div>
        <!-- Canvas sempre presente, apenas oculto -->
        <div class="chart-wrapper" [style.display]="loadingPie ? 'none' : 'block'">
          <canvas #pieChart></canvas>
        </div>
      </div>
    </div>

    <!-- Gr치fico de Barras - Top 5 Categorias -->
    <div class="chart-card">
      <div class="chart-header">
        <h3>游늵 Top 5 Categorias de Despesas</h3>
      </div>
      <div class="chart-content">
        <!-- Loading espec칤fico -->
        <div class="chart-loading" *ngIf="loadingBar">
          <div class="spinner-small"></div>
          <p>Carregando...</p>
        </div>
        <!-- Canvas sempre presente, apenas oculto -->
        <div class="chart-wrapper" [style.display]="loadingBar ? 'none' : 'block'">
          <canvas #barChart></canvas>
        </div>
      </div>
    </div>

  </div>
</div>
